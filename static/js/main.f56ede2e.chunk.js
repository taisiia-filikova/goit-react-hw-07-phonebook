(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={form:"ContactForm_form__22VOk",label:"ContactForm_label__1G7L_",input:"ContactForm_input__4OwIb",button:"ContactForm_button__29-jF"}},15:function(t,e,n){t.exports={list:"ContactList_list__YHztv",item:"ContactList_item__2sdPR",data:"ContactList_data__1nldN",button:"ContactList_button__215sh"}},22:function(t,e,n){t.exports={wrapper:"ErrorImg_wrapper__18Bsr",text:"ErrorImg_text__2m9FW",img:"ErrorImg_img__2pwU0"}},23:function(t,e,n){t.exports={label:"ContactFilter_label__D4skN",input:"ContactFilter_input__2UCeG"}},34:function(t,e,n){t.exports={container:"Container_container__x32c1"}},37:function(t,e,n){t.exports={overlay:"Loader_overlay__Bj5GJ"}},44:function(t,e,n){},91:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"fetchContactsRequest",(function(){return h})),n.d(c,"fetchContactsSuccess",(function(){return p})),n.d(c,"fetchContactsError",(function(){return x})),n.d(c,"addContactRequest",(function(){return C})),n.d(c,"addContactSuccess",(function(){return _})),n.d(c,"addContactError",(function(){return g})),n.d(c,"deleteContactRequest",(function(){return v})),n.d(c,"deleteContactSuccess",(function(){return N})),n.d(c,"deleteContactError",(function(){return y})),n.d(c,"filterContact",(function(){return E}));var a={};n.r(a),n.d(a,"fetchContacts",(function(){return k})),n.d(a,"addContact",(function(){return F})),n.d(a,"deleteContact",(function(){return S}));var r={};n.r(r),n.d(r,"getContacts",(function(){return q})),n.d(r,"getLoading",(function(){return I})),n.d(r,"getError",(function(){return B})),n.d(r,"getFilter",(function(){return G})),n.d(r,"getVisibleContacts",(function(){return J}));var o=n(0),i=n.n(o),u=n(9),s=n.n(u),b=(n(44),n(34)),l=n.n(b),j=n(1);var d=function(t){var e=t.children;return Object(j.jsx)("div",{className:l.a.container,children:e})},f=n(24),O=n(5),m=n(4),h=Object(m.b)("contacts/fetchContactsRequest"),p=Object(m.b)("contacts/fetchContactsSuccess"),x=Object(m.b)("contacts/fetchContactsError"),C=Object(m.b)("contacts/addContactRequest"),_=Object(m.b)("contacts/addContactSuccess"),g=Object(m.b)("contacts/addContactError"),v=Object(m.b)("contacts/deleteContactRequest"),N=Object(m.b)("contacts/deleteContactSuccess"),y=Object(m.b)("contacts/deleteContactError"),E=Object(m.b)("contacts/filter"),w=n(14),L=n.n(w);L.a.defaults.baseURL="http://localhost:4040";var k=function(){return function(t){t(h()),L.a.get("/contacts").then((function(e){var n=e.data;return t(p(n))})).catch((function(e){return t(x(e))}))}},F=function(t,e){return function(n){var c={name:t,number:e};n(C()),function(t){return L.a.post("/contacts",t)}(c).then((function(t){var e=t.data;return n(_(e))})).catch((function(t){return n(g(t))}))}},S=function(t){return function(e){e(v()),function(t){return L.a.delete("/contacts/".concat(t))}(t).then((function(){return e(N(t))})).catch((function(t){return e(y(t))}))}},R=n(16),q=function(t){return t.contacts.items},I=function(t){return t.contacts.isLoading},B=function(t){return t.contacts.error},G=function(t){return t.contacts.filter},J=Object(R.a)([q,G],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),P=n(36),U=n.n(P),V=n(11),D=n(37),Y=n.n(D),z=n(38),A=n.n(z);n(88);var H=function(){return Object(j.jsx)("div",{className:Y.a.overlay,children:Object(j.jsx)(A.a,{type:"TailSpin",color:"#613d5c",height:80,width:80,timeout:0})})},M=n(12),T=n.n(M);var W=function(){var t=Object(O.b)(),e=Object(O.c)(r.getContacts),n=Object(O.c)(r.getLoading),c=Object(o.useState)(""),i=Object(f.a)(c,2),u=i[0],s=i[1],b=Object(o.useState)(""),l=Object(f.a)(b,2),d=l[0],m=l[1],h=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":s(c);break;case"number":m(c);break;default:return}},p=function(){s(""),m("")};return Object(j.jsxs)("form",{className:T.a.form,onSubmit:function(n){n.preventDefault(),!function(t){return e.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}(u)?!function(t){return e.find((function(e){return e.number===t}))}(d)?!function(t,e){return""===t.trim()||""===e.trim()}(u,d)?!function(t){return!/\d{3}[-]\d{2}[-]\d{2}/g.test(t)}(d)?t(a.addContact(u,d)):V.b.error("Enter the correct phone number!"):V.b.info("Enter the name and phone number!"):Object(V.b)("".concat(d," is already in contacts.")):Object(V.b)("".concat(u," is already in contacts.")),p()},children:[Object(j.jsxs)("label",{className:T.a.label,children:["Name",Object(j.jsx)("input",{className:T.a.input,type:"text",name:"name",value:u,onChange:h,placeholder:"Enter the name"})]}),Object(j.jsxs)("label",{className:T.a.label,children:["Number",Object(j.jsx)(U.a,{options:{delimiter:"-",blocks:[3,2,2]},type:"tel",name:"number",value:d,onChange:h,className:T.a.input,placeholder:"555-55-55"})]}),!n&&Object(j.jsx)("button",{className:T.a.button,type:"submit",children:"Add contact"}),n&&Object(j.jsx)(H,{})]})},K=n(7),Q={initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{ease:"easeOut",duration:.3}},X=n(22),Z=n.n(X),$=n.p+"static/media/sad.9fb9c8f7.png";var tt=function(t){var e=t.message;return Object(j.jsx)(K.a,{children:Object(j.jsxs)(K.b.div,{role:"alert",className:Z.a.wrapper,initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{ease:"easeOut",duration:.3},children:[Object(j.jsx)("img",{src:$,width:"500",alt:"Network Error"}),Object(j.jsx)("p",{text:e,className:Z.a.text,children:e})]})})},et=n(15),nt=n.n(et);var ct=function(){var t=Object(O.b)(),e=Object(O.c)(r.getVisibleContacts),n=Object(O.c)(r.getContacts),c=Object(O.c)(r.getLoading),i=Object(O.c)(r.getError);return Object(o.useEffect)((function(){return t(a.fetchContacts())}),[t]),Object(j.jsxs)(j.Fragment,{children:[n.length>0&&!i&&Object(j.jsx)(K.b.ul,{className:nt.a.list,children:Object(j.jsx)(K.a,{children:e.map((function(e){var n=e.id,c=e.name,r=e.number;return Object(j.jsxs)(K.b.li,{className:nt.a.item,initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:Q,children:[Object(j.jsxs)("p",{className:nt.a.data,children:[Object(j.jsx)("b",{children:c}),Object(j.jsx)("em",{children:r})]}),Object(j.jsx)("button",{className:nt.a.button,type:"button",onClick:function(){return t(a.deleteContact(n))}})]},n)}))})}),!n.length&&!i&&!c&&Object(j.jsx)(K.a,{children:Object(j.jsx)(K.b.p,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:Q,children:"Your phonebook is empty. Please add contact."})}),i&&Object(j.jsx)(tt,{message:i.message})]})},at=n(23),rt=n.n(at);var ot=function(){var t=Object(O.b)(),e=Object(O.c)(r.getFilter),n=Object(O.c)(r.getContacts),a=Object(O.c)(r.getError);return Object(j.jsx)(j.Fragment,{children:n.length>0&&!a&&Object(j.jsx)(K.a,{children:Object(j.jsx)("label",{className:rt.a.label,children:Object(j.jsx)(K.b.input,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:Q,className:rt.a.input,type:"text",value:e,onChange:function(e){return t(c.filterContact(e.target.value))}})})})})};n(89);var it,ut,st,bt=function(){return Object(j.jsxs)(d,{children:[Object(j.jsx)("h1",{children:"Phonebook"}),Object(j.jsx)(W,{}),Object(j.jsx)("h2",{children:"Contacts"}),Object(j.jsx)(ot,{}),Object(j.jsx)(ct,{}),Object(j.jsx)(V.a,{autoClose:3700,position:"top-center"})]})},lt=n(3),jt=n(39),dt=n(8),ft=Object(m.c)([],(it={},Object(lt.a)(it,p,(function(t,e){return e.payload})),Object(lt.a)(it,_,(function(t,e){var n=e.payload;return[].concat(Object(jt.a)(t),[n])})),Object(lt.a)(it,N,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),it)),Ot=Object(m.c)(!1,(ut={},Object(lt.a)(ut,h,(function(){return!0})),Object(lt.a)(ut,p,(function(){return!1})),Object(lt.a)(ut,x,(function(){return!1})),Object(lt.a)(ut,C,(function(){return!0})),Object(lt.a)(ut,_,(function(){return!1})),Object(lt.a)(ut,g,(function(){return!1})),Object(lt.a)(ut,v,(function(){return!0})),Object(lt.a)(ut,N,(function(){return!1})),Object(lt.a)(ut,y,(function(){return!1})),ut)),mt=Object(m.c)("",Object(lt.a)({},E,(function(t,e){return e.payload}))),ht=Object(m.c)(null,(st={},Object(lt.a)(st,x,(function(t,e){return e.payload})),Object(lt.a)(st,g,(function(t,e){return e.payload})),Object(lt.a)(st,y,(function(t,e){return e.payload})),Object(lt.a)(st,h,(function(){return null})),Object(lt.a)(st,C,(function(){return null})),Object(lt.a)(st,v,(function(){return null})),st)),pt=Object(dt.c)({items:ft,filter:mt,isLoading:Ot,error:ht}),xt=Object(m.a)({reducer:{contacts:pt}});n(90);s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(O.a,{store:xt,children:Object(j.jsx)(bt,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.f56ede2e.chunk.js.map